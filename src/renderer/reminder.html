<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'">
    <title class="app-name"></title>
    <link rel="stylesheet" href="./assets/style.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
</head>
<body>
    <header class="titlebar">
        <img src="./assets/icon.png">
        <p class="app-name"></p>
    </header>

    <dialog id="popup">
        <h2 class="title">Title</h2>
        <p class="content"></p>
        <form>
            <button formmethod="dialog">Close Popup</button>
        </form>
    </dialog>

    <nav>
        <div class="nav__sidebar">
            <button class="home-button svg-button" title="Home" tabindex="999">
                <svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48"><path d="M160-120v-480l320-240 320 240v480H560v-280H400v280H160Z"/></svg>
            </button>
            <button class="svg-button" title="Create Reminder" tabindex="999">
                <svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48"><path d="M160-200v-60h80v-304q0-84 49.5-150.5T420-798v-22q0-25 17.5-42.5T480-880q25 0 42.5 17.5T540-820v22q81 17 130.5 83.5T720-564v304h80v60H160ZM480-80q-33 0-56.5-23.5T400-160h160q0 33-23.5 56.5T480-80Z"/></svg>
            </button>
            <button class="settings-button svg-button" title="Settings" tabindex="999">
                <svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48">
                    <path d="m388-80-20-126q-19-7-40-19t-37-25l-118 54-93-164 108-79q-2-9-2.5-20.5T185-480q0-9 .5-20.5T188-521L80-600l93-164 118 54q16-13 37-25t40-18l20-127h184l20 126q19 7 40.5 18.5T669-710l118-54 93 164-108 77q2 10 2.5 21.5t.5 21.5q0 10-.5 21t-2.5 21l108 78-93 164-118-54q-16 13-36.5 25.5T592-206L572-80H388Zm92-270q54 0 92-38t38-92q0-54-38-92t-92-38q-54 0-92 38t-38 92q0 54 38 92t92 38Z"/>
                </svg>
            </button>
        </div>
    </nav>
    
    <main class="preload center-horizontal">
        <form action="" method="" class="reminder-form">
            <div title="The amount of time between each reminder">
                <label for="reminder-interval-amount">Reminder Interval</label>
                <input type="number" 
                        step="0.01" 
                        id="reminder-interval-amount" 
                        name="reminder-interval-amount" 
                        placeholder=" "
                        min="0.1" 
                        required 
                        use-units="time"
                >
            </div>

            <div title="If used, this overrides the duration until the first reminder plays">
                <!-- <input type="checkbox" id="toggle-reminder-start-override" name="toggle-reminder-start-override" toggles="reminder-start-override-amount"> -->
                <label for="toggle-reminder-start-override">First Reminder Delay Override</label>
                <input type="number" 
                        id="reminder-start-override-amount" 
                        name="reminder-start-override-amount" 
                        step="0.01"  
                        min="0.1" 
                        use-units="time"
                >
            </div>

            <div title="If used, this determines the duration between an ignored reminder re-sending">
                <!-- <input type="checkbox" id="toggle-ignore-reminder-penalty" name="toggle-ignore-reminder-penalty" toggles="ignored-reminder-interval-amount"> -->
                <label for="toggle-ignore-reminder-penalty">Ignored Reminder Replay Interval</label>
                <input type="number" 
                        id="ignored-reminder-interval-amount" 
                        name="ignored-reminder-interval-amount" 
                        step="0.01" 
                        min="0.1" 
                        use-units="time"
                >
            </div>

            <div title="The maximum number of times the reminder will replay if ignored. Leave empty for no limit">
                <label for="max-ignored-reminders">Maximum Ignored Reminders</label>
                <input type="number" 
                        id="max-ignored-reminders" 
                        name="max-ignored-reminders" 
                        step="1" 
                        min="1" 
                >
            </div>

            <div class="combobox-wrapper" title="The type of notification sent for the reminder">
                <!-- Accessible select as per the ARIA 1.2 standards: https://www.w3.org/TR/wai-aria-1.2/#combobox -->
                <label for="notification-type">Notification Type</label>
                <div class="combobox--input">
                    <input type="text" 
                        id="notification-type"
                        role="combobox"
                        options-from="reminderNotificationType"
                        aria-haspopup="listbox" 
                        aria-expanded="false"
                        aria-controls="notification-type--listbox" 
                        aria-activedescendant=""
                        aria-autocomplete="list"
                        maxlength="32">
    
                    <svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48">
                        <path d="M480-345 240-585l43-43 197 198 197-197 43 43-240 239Z"/>
                    </svg>
                </div>
            
                <div class="listbox-wrapper">
                    <ul role="listbox" id="notification-type--listbox">
                    
                    </ul>
                </div>
            </div>

            <div title="The title displayed when the reminder is sent">
                <label for="title">Reminder Title</label>
                <input type="text" minlength="1" maxlength="32" id="title" name="title" placeholder=" " required>
            </div>

            <div title="The message sent with the reminder">
                <label for="message">Reminder Message</label>
                <textarea cols="40" rows = "10" id="message" name="message"></textarea>
            </div>

            <div>
                <button id="create-reminder" class="primary" when-editing="Update Reminder" type="submit">Create Reminder</button>
                <button id="cancel" action="destructive" type="reset">Cancel</button>
            </div>
            <p><span>*</span> = required</p>
        </form>
    </main>

    <script type="module" src="./src/reminder.ts"></script>
    <script type="module" src="./src/nav.ts"></script>
</body>
</html>